--- qt-x11-opensource-src-4.1.0/configure.orig	2006-01-15 16:08:12.000000000 +0100
+++ qt-x11-opensource-src-4.1.0/configure	2006-01-15 16:35:27.416743000 +0100
@@ -411,6 +411,7 @@
 CFG_LARGEFILE=auto
 CFG_STL=auto
 CFG_PRECOMPILE=no
+CFG_HAVE_SSE=no
 CFG_REDUCE_EXPORTS=auto
 CFG_IPV6=auto
 CFG_NAS=no
@@ -516,7 +517,7 @@
         VAL=no
         ;;
     #Qt style yes options
-    -incremental|-qvfb|-profile|-shared|-static|-sm|-xinerama|-xshape|-tablet|-reduce-exports|-pch|-stl|-freetype|-xcursor|-xrandr|-xrender|-fontconfig|-xkb|-nis|-cups|-largefile|-h|-help|-v|-verbose|-debug|-release|-fast|-opengl|-accessibility|-confirm-license|-gnumake|-framework|-qt3support|-debug-and-release|-exceptions|-universal)
+    -incremental|-qvfb|-profile|-shared|-static|-sm|-xinerama|-xshape|-tablet|-reduce-exports|-pch|-sse|-stl|-freetype|-xcursor|-xrandr|-xrender|-fontconfig|-xkb|-nis|-cups|-largefile|-h|-help|-v|-verbose|-debug|-release|-fast|-opengl|-accessibility|-confirm-license|-gnumake|-framework|-qt3support|-debug-and-release|-exceptions|-universal)
         VAR=`echo $1 | sed "s,^-\(.*\),\1,"`
         VAL=yes
         ;;
@@ -953,6 +954,13 @@
             UNKNOWN_OPT=yes
         fi
         ;;
+    sse)
+        if [ "$VAL" = "yes" ] || [ "$VAL" = "no" ]; then
+            CFG_HAVE_SSE="$VAL"
+        else
+            UNKNOWN_OPT=yes
+        fi
+        ;;
     reduce-exports)
         if [ "$VAL" = "yes" ] || [ "$VAL" = "no" ]; then
             CFG_REDUCE_EXPORTS="$VAL"
@@ -1844,11 +1852,13 @@
     fi
 fi
 
-# detect sse support
-if $unixtests/sse.test $XQMAKESPEC $OPT_VERBOSE; then
-    CFG_HAVE_SSE=no
-else
-    CFG_HAVE_SSE=yes
+# auto-detect sse support
+if [ "$CFG_HAVE_SSE" = "auto" ]; then
+    if $unixtests/sse.test $XQMAKESPEC $OPT_VERBOSE; then
+	CFG_HAVE_SSE=no
+    else
+	CFG_HAVE_SSE=yes
+    fi
 fi
 
 #auto-detect GNU make support
@@ -1931,7 +1941,7 @@
         [-no-zlib] [-qt-zlib] [-system-zlib] [-no-libjpeg] [-qt-libjpeg] [-system-libjpeg]
         [-no-libpng] [-qt-libpng] [-system-libpng] [-no-libmng] [-qt-libmng]
         [-system-libmng] [-no-nis] [-nis] [-no-cups] [-cups] [-no-largefile] [-largefile]
-        [-no-stl] [-stl] [-no-pch] [-pch] [-Istring] [-lstring] [-Lstring] [-Rstring]
+        [-no-stl] [-stl] [-no-pch] [-pch] [-no-sse] [-sse] [-Istring] [-lstring] [-Lstring] [-Rstring]
         [-disable-<module>] [-with-<module setting>] [-without-<module setting>] [-fast]
         [-no-fast]
 
@@ -2086,6 +2096,9 @@
  $PHN  -no-pch ............ Do not use precompiled header support.
  $PHY  -pch ............... Use precompiled header support.
 
+    -no-sse ............ Do not use MMX/SSE instructions.
+    -sse ............... Use MMX/SSE instructions.
+
 EOF
 
 if [ "$PLATFORM_X11" = "yes" ]; then
